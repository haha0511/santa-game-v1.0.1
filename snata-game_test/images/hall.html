<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>๋ช์์ ์๋น</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>

<h1>๐ ๋ช์์ ์๋น ๐</h1>

<ol id="list"></ol>

<p id="debug"></p>

<button onclick="location.href='index.html'">๋ค์ ํ๊ธฐ</button>

<script>
  // Firebase ์ค์
  const firebaseConfig = {
    apiKey: "AIzaSyCg2XAdcBkgD_fdAjENCxPSOAwhdVf-nNY",
    authDomain: "santa-game-test.firebaseapp.com",
    projectId: "santa-game-test",
    storageBucket: "santa-game-test.firebasestorage.app",
    messagingSenderId: "769873430252",
    appId: "1:769873430252:web:1f4de25357ea95b396c7c9"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const list = document.getElementById("list");
  const debug = document.getElementById("debug");

  db.collection("scores")
    .orderBy("score", "desc")
    .limit(50)
    .get()
    .then(snapshot => {
      debug.textContent = "๋ถ๋ฌ์จ ๋ฌธ์ ์: " + snapshot.size;

      snapshot.forEach(doc => {
        const d = doc.data();
        const li = document.createElement("li");
        li.textContent = `${d.name} - ${d.score}์`;
        list.appendChild(li);
      });
    })
    .catch(err => {
      debug.textContent = "์๋ฌ ๋ฐ์: " + err.message;
    });
</script>

</body>
</html>
